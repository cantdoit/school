\ProvidesPackage{homework}[2020/02/24]

% page
\RequirePackage[inner=2.0cm,outer=2.0cm,top=2cm,bottom=2cm]{geometry}
\RequirePackage{fancyhdr}

% fonts
\RequirePackage[T1]{fontenc}
\RequirePackage{zi4} % ttfamily

% items
\RequirePackage{enumitem}
\setitemize[1]{itemsep=0pt,partopsep=0pt}
\setenumerate[1]{itemsep=0pt,partopsep=0pt}

% tikz
\RequirePackage{tikz}
\usetikzlibrary{automata,shapes,positioning,arrows}

% semantic
\RequirePackage{semantic}

% code
\RequirePackage{minted}

% meta info
\def\homework@duedate{!missing duedate}
\def\homework@studentname{!missing studentname}
\def\homework@studentid{!missing studentid}
\newcommand{\duedate}[1]{\def\homework@duedate{#1}}
\newcommand{\studentname}[1]{\def\homework@studentname{#1}}
\newcommand{\studentid}[1]{\def\homework@studentid{#1}}

% set up page style
\pagestyle{fancy}
\lhead{\homework@studentname}
\chead{\@title}
\setlength{\headheight}{25pt}

% title box
\renewcommand{\maketitle}{
   \thispagestyle{plain}
   \begin{center}
   \framebox{\vbox{
      \vspace{2mm}
      \hbox to 6.28in { {\bf 软件分析与验证 \hfill {截止时间: \homework@duedate}} }
      \vspace{6mm}
      \hbox to 6.28in { {\Large\bf \hfill \@title \hfill} }
      \vspace{6mm}
      \hbox to 6.28in { {\it 授课老师: 贺飞 \hfill \normalfont \homework@studentname~(\homework@studentid)} }
      \hbox to 6.28in { {\it 助教: 韩志磊、黄碧婷 \hfill } }
      \vspace{2mm}
   }}
   \end{center}
   \vspace{4mm}
}


% problems and solutions
\newcounter{problem}
\newcommand{\problem}[1]{\stepcounter{problem}\section*{Problem \theproblem: #1}}
\newcommand{\optionalproblem}[1]{\stepcounter{problem}\section*{Problem \theproblem: #1 (Optional)}}
\newcounter{subproblem}[problem]
\newcommand{\subproblem}{\stepcounter{subproblem}\paragraph*{\theproblem-\thesubproblem}}
\newcommand{\optionalsubproblem}{\stepcounter{subproblem}\paragraph*{\theproblem-\thesubproblem~(Optional)}}
\newcommand{\hint}[1]{\paragraph*{Hint} #1}
\newenvironment{solution}{\paragraph*{Solution}}{$\blacksquare$}

% maths
\RequirePackage{amsmath,amsfonts,amssymb,stmaryrd}

% theorems
\RequirePackage{amsthm}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\RequirePackage{proof}

% other useful packages
\RequirePackage{hyperref}
\RequirePackage{graphics}
\RequirePackage{booktabs}
\RequirePackage[capitalise,noabbrev]{cleveref}
% end of file

%% logical symbols
% \land     /\
% \lor      \/
% \lnor     (negation)
% \to       ->
% \lequiv   <->
% \models   |=
\newcommand{\lequiv}{\leftrightarrow}
\newcommand{\func}[1]{\textbf{#1}}

% 模型：$\mathcal{M} = (\mathcal{D}, \mathcal{I})$
% 论域：$\mathcal{D}$
% 解释：$\mathcal{I}$
\newcommand{\model}{\mathcal{M}}
\newcommand{\domain}{\mathcal{D}}
\newcommand{\interpretation}{\mathcal{I}}

% 变量赋值：$\assignment: \varset \to \domain$
\let\mapping\rho
\let\assignment\rho
\let\env\mapping

% 语义：$|[\cdot|]$
\newcommand{\sem}[1]{|[#1|]}                        % 程序语义 / 无下标的语义
\newcommand{\plsem}[1]{|[#1|]_{\assignment}}        % 命题逻辑语义
\newcommand{\fosem}[1]{|[#1|]_{\model,\assignment}} % 一阶逻辑语义

% 语义蕴涵和语义等价: $\simply, \sequiv$
\let\simply\entails
\let\sequiv\Leftrightarrow

% 程序语言：$\imp$
\newcommand{\imp}{\textsc{IMP}}

% 全体变元符号集：$\mathcal{V}$
\newcommand{\varset}{\mathit{Var}}

% 程序语句：$\st \in \sts
\newcommand{\st}{\mathit{st}}
\newcommand{\stset}{\mathit{Stmt}}


\newcommand{\kword}[1]{{\textbf{#1}}}
\newcommand{\True}{\kword{true}}
\newcommand{\False}{\kword{false}}
\newcommand{\Skip}{\kword{skip}}
\newcommand{\If}{\kword{if}}
\newcommand{\Then}{\kword{then}}
\newcommand{\Else}{\kword{else}}
\newcommand{\While}{\kword{while}}
\newcommand{\Break}{\kword{break}}

\newcommand{\hoare}[3]{\left\{#1\right\} \; #2 \; \left\{#3\right\}}
\newcommand{\tothoare}[3]{\left[#1\right] \; #2 \; \left[#3\right]}
